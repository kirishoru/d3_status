<!DOCTYPE html>
<html>

<head>
	<title>temp</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<!--	<script type="text/javascript" src="script_3.js"></script>-->

	<script type="text/javascript">
	
	$(document).ready(function () {

	var data = [
		{"name" : "ms1", "values" : [2, 8]},
		{"name" : "ms2", "values" : [3, 7]},
		{"name" : "ms3", "values" : [4, 6]},
		{"name" : "ms4", "values" : [5, 5]},
		{"name" : "ms5", "values" : [6, 4]}
		];

	var margin = {
			top: 20,
			right: 20,
			bottom: 20,
			left: 20
		},
		width = 400 - margin.left - margin.right,
		height = width - margin.top - margin.bottom,
		cwidth = 25;
	
	var color = d3.scale.ordinal()
		.range(["#3399FF", "orange"]);

	var svg = d3.select("body")
		.append("svg")
		.attr("width", width)
		.attr("height", height)
		.append("g")
		.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
	
	var gs = svg.selectAll("g").data(data).enter().append("g");
	
	var pie = d3.layout.pie()
		.sort(null)
		.startAngle(0)
		.endAngle(2*Math.PI);

	var arc = d3.svg.arc()
		.innerRadius(function(d,i,j) {return 10 + cwidth * j;})
		.outerRadius(function(d,i,j) {return cwidth * (j + 1);});

		
// ************************ HERE ************************		
	var path = gs.selectAll("path")
		.data(function (d,i,j) {
			console.log("data: " + j);
			return pie(d.values);
		})
		.enter()
		.append("path")
		.attr("fill", function (d,i,j) {
			console.log("attr fill: " + j);
			return color(i);
		})
		
// if the transition element below was working, i wouldn't need this attr element. 	
		.attr("d", function (d,i,j) {
			console.log("attr d: " + j);
			return arc(d,i,j);
		})
	
		.transition()
		.delay(function(d,i,j) {
			console.log("delay: " + j);
			return i * 500;
		})
		.duration(500)

// this section isn't working.	
//		.attrTween("d", function (d,i,j) {
//			console.log("attrTween: " + j);
//			var s = d3.interpolate(d.startAngle + 0.1, d.endAngle);
//			return function (t) {
//				j.endAngle = s(t);
//				return arc(d,i,j);
//			};
//		})
// comment the above segment and the code works	
	
	;
});
	
	
	</script>
		
	</head>

<body>
</body>

</html>